<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!--
  Cookbook: hadoop
  Filename: hive-site.xml
 
  Copyright (c) 2011 Dell Inc.
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
 
      http://www.apache.org/licenses/LICENSE-2.0
 
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!-- Generated by Chef for <%= @node[:fqdn] %> -->

<configuration>

 <property>
    <name>hive.default.fileformat</name>
    <value><%= node[:hadoop][:hive][:hive_default_fileformat] %></value>
    <description>Default file format for CREATE TABLE statement. Options are TextFile
      and SequenceFile. Users can explicitly say CREATE TABLE ...
      STORED AS <TEXTFILE.
    </description>
  </property>

  <property>
    <name>hive.exec.compress.intermediate</name>
    <value><%= node[:hadoop][:hive][:hive_exec_compress_intermediate] %></value>
    <description>This controls whether intermediate files produced by hive between
      multiple map-reduce jobs are compressed. The compression codec
      and other options are determined from hadoop config variables
      mapred.output.compress*.
    </description>
  </property>

  <property>
    <name>hive.exec.compress.output</name>
    <value><%= node[:hadoop][:hive][:hive_exec_compress_output] %></value>
    <description>This controls whether the final outputs of a query (to a local/hdfs
      file or a hive table) is compressed. The compression codec and
      other options are determined from hadoop config variables
      mapred.output.compress*.
    </description>
  </property>

  <property>
    <name>hive.exec.scratchdir</name>
    <value><%= node[:hadoop][:hive][:hive_exec_scratchdir] %></value>
    <description>Scratch space for Hive jobs.
    </description>
  </property>

  <property>
    <name>hive.exec.script.maxerrsize</name>
    <value><%= node[:hadoop][:hive][:hive_exec_script_maxerrsize] %></value>
    <description>Maximum number of bytes a script is allowed to emit to standard error
      (per map-reduce task). This prevents runaway scripts from
      filling logs partitions to capacity.
    </description>
  </property>

  <property>
    <name>hive.join.emit.interval</name>
    <value><%= node[:hadoop][:hive][:hive_join_emit_interval] %></value>
    <description>How many rows in the right-most join operand Hive should buffer
      before emitting the join result.
    </description>
  </property>

  <property>
    <name>hive.map.aggr</name>
    <value><%= node[:hadoop][:hive][:hive_map_aggr] %></value>
    <description>Whether to use map-side aggregation in Hive Group By queries.
    </description>
  </property>

  <property>
    <name>hive.metastore.connect.retries</name>
    <value><%= node[:hadoop][:hive][:hive_metastore_connect_retries] %></value>
    <description>Number of retries while opening a connection to metastore.
    </description>
  </property>

  <property>
    <name>hive.metastore.local</name>
    <value><%= node[:hadoop][:hive][:hive_metastore_local] %></value>
    <description>controls whether to connect to remove metastore server or open a new
      metastore server in Hive Client JVM.
    </description>
  </property>

  <property>
    <name>hive.metastore.metadb.dir</name>
    <value><%= node[:hadoop][:hive][:hive_metastore_metadb_dir] %></value>
    <description>The location of filestore metadata base dir.
    </description>
  </property>

  <property>
    <name>hive.metastore.rawstore.impl</name>
    <value><%= node[:hadoop][:hive][:hive_metastore_rawstore_impl] %></value>
    <description>Name of the class that implements
      org.apache.hadoop.hive.metastore.rawstore interface. This class
      is used to store and retrieval of raw metadata objects such as
      table, database.
    </description>
  </property>

  <property>
    <name>hive.metastore.uris</name>
    <value><%= node[:hadoop][:hive][:hive_metastore_uris] %></value>
    <description>Comma separated list of URIs of metastore servers. The first server
      that can be connected to will be used.
    </description>
  </property>

  <property>
    <name>hive.metastore.warehouse.dir</name>
    <value><%= node[:hadoop][:hive][:hive_metastore_warehouse_dir] %></value>
    <description>location of default database for the warehouse.
    </description>
  </property>

  <property>
    <name>javax.jdo.option.ConnectionDriverName</name>
    <value><%= node[:hadoop][:hive][:javax_jdo_option_ConnectionDriverName] %></value>
    <description>Driver class name for a JDBC metastore.
    </description>
  </property>

  <property>
    <name>javax.jdo.option.ConnectionURL</name>
    <value><%= node[:hadoop][:hive][:javax_jdo_option_ConnectionURL] %></value>
    <description>JDBC connect string for a JDBC metastore.
    </description>
  </property>

</configuration>

